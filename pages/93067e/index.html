<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Promise使用 | Happy Place</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.c65450c0.css" as="style"><link rel="preload" href="/assets/js/app.a8c3baaf.js" as="script"><link rel="preload" href="/assets/js/2.b5c660c9.js" as="script"><link rel="preload" href="/assets/js/3.e22064e5.js" as="script"><link rel="preload" href="/assets/js/83.5db2b935.js" as="script"><link rel="prefetch" href="/assets/js/10.b8b8ab84.js"><link rel="prefetch" href="/assets/js/11.1b8e1942.js"><link rel="prefetch" href="/assets/js/12.53dd54a8.js"><link rel="prefetch" href="/assets/js/13.9da15bc5.js"><link rel="prefetch" href="/assets/js/14.ec3a7905.js"><link rel="prefetch" href="/assets/js/15.d7ee8461.js"><link rel="prefetch" href="/assets/js/16.b15fe8c9.js"><link rel="prefetch" href="/assets/js/17.c182f876.js"><link rel="prefetch" href="/assets/js/18.7b1f5104.js"><link rel="prefetch" href="/assets/js/19.b74b0704.js"><link rel="prefetch" href="/assets/js/20.852f6ed4.js"><link rel="prefetch" href="/assets/js/21.f6d48628.js"><link rel="prefetch" href="/assets/js/22.5d5d79b4.js"><link rel="prefetch" href="/assets/js/23.14567901.js"><link rel="prefetch" href="/assets/js/24.241ea526.js"><link rel="prefetch" href="/assets/js/25.fcb27e83.js"><link rel="prefetch" href="/assets/js/26.7db4c2e7.js"><link rel="prefetch" href="/assets/js/27.092ee481.js"><link rel="prefetch" href="/assets/js/28.4b97f739.js"><link rel="prefetch" href="/assets/js/29.c514359b.js"><link rel="prefetch" href="/assets/js/30.f04f4e18.js"><link rel="prefetch" href="/assets/js/31.5ffd7783.js"><link rel="prefetch" href="/assets/js/32.8dfed234.js"><link rel="prefetch" href="/assets/js/33.b2af0b6c.js"><link rel="prefetch" href="/assets/js/34.f8734221.js"><link rel="prefetch" href="/assets/js/35.5f391154.js"><link rel="prefetch" href="/assets/js/36.20344beb.js"><link rel="prefetch" href="/assets/js/37.fef23f3a.js"><link rel="prefetch" href="/assets/js/38.bcb5e6e2.js"><link rel="prefetch" href="/assets/js/39.82dabd18.js"><link rel="prefetch" href="/assets/js/4.23698b7e.js"><link rel="prefetch" href="/assets/js/40.108330e0.js"><link rel="prefetch" href="/assets/js/41.5fb4ab42.js"><link rel="prefetch" href="/assets/js/42.28dcb082.js"><link rel="prefetch" href="/assets/js/43.7e276908.js"><link rel="prefetch" href="/assets/js/44.0c7e7c4a.js"><link rel="prefetch" href="/assets/js/45.ce0945e5.js"><link rel="prefetch" href="/assets/js/46.bff6354d.js"><link rel="prefetch" href="/assets/js/47.ad214c5d.js"><link rel="prefetch" href="/assets/js/48.ac394469.js"><link rel="prefetch" href="/assets/js/49.a30f0fab.js"><link rel="prefetch" href="/assets/js/5.a7ca4b63.js"><link rel="prefetch" href="/assets/js/50.004eff23.js"><link rel="prefetch" href="/assets/js/51.14caea13.js"><link rel="prefetch" href="/assets/js/52.9b64384c.js"><link rel="prefetch" href="/assets/js/53.6aed5936.js"><link rel="prefetch" href="/assets/js/54.0d258f5c.js"><link rel="prefetch" href="/assets/js/55.c2c125a6.js"><link rel="prefetch" href="/assets/js/56.0023d049.js"><link rel="prefetch" href="/assets/js/57.720553ab.js"><link rel="prefetch" href="/assets/js/58.fa63a13a.js"><link rel="prefetch" href="/assets/js/59.641646a1.js"><link rel="prefetch" href="/assets/js/6.d47ba7da.js"><link rel="prefetch" href="/assets/js/60.ceb9b52e.js"><link rel="prefetch" href="/assets/js/61.01decca0.js"><link rel="prefetch" href="/assets/js/62.707fe347.js"><link rel="prefetch" href="/assets/js/63.574a3f29.js"><link rel="prefetch" href="/assets/js/64.f7932dd9.js"><link rel="prefetch" href="/assets/js/65.9b30dd29.js"><link rel="prefetch" href="/assets/js/66.e19c66aa.js"><link rel="prefetch" href="/assets/js/67.a034705d.js"><link rel="prefetch" href="/assets/js/68.f792e858.js"><link rel="prefetch" href="/assets/js/69.7e881126.js"><link rel="prefetch" href="/assets/js/7.3b638d91.js"><link rel="prefetch" href="/assets/js/70.1e0cdaa0.js"><link rel="prefetch" href="/assets/js/71.5bbbf703.js"><link rel="prefetch" href="/assets/js/72.de6db67a.js"><link rel="prefetch" href="/assets/js/73.e54e5943.js"><link rel="prefetch" href="/assets/js/74.1e7c2361.js"><link rel="prefetch" href="/assets/js/75.9ea76709.js"><link rel="prefetch" href="/assets/js/76.3d3a04c1.js"><link rel="prefetch" href="/assets/js/77.d639e454.js"><link rel="prefetch" href="/assets/js/78.e683e88e.js"><link rel="prefetch" href="/assets/js/79.700ae5a5.js"><link rel="prefetch" href="/assets/js/8.9bf69278.js"><link rel="prefetch" href="/assets/js/80.139e0a01.js"><link rel="prefetch" href="/assets/js/81.211024d4.js"><link rel="prefetch" href="/assets/js/82.bab0936f.js"><link rel="prefetch" href="/assets/js/84.81c8ab2d.js"><link rel="prefetch" href="/assets/js/85.b6c0843a.js"><link rel="prefetch" href="/assets/js/86.e62ece32.js"><link rel="prefetch" href="/assets/js/87.9c9decda.js"><link rel="prefetch" href="/assets/js/88.0d81be96.js"><link rel="prefetch" href="/assets/js/89.6abc53b5.js"><link rel="prefetch" href="/assets/js/9.dd8047f3.js"><link rel="prefetch" href="/assets/js/90.52133d62.js"><link rel="prefetch" href="/assets/js/91.6f6e82b4.js"><link rel="prefetch" href="/assets/js/92.d3e6b236.js"><link rel="prefetch" href="/assets/js/93.1adc6740.js"><link rel="prefetch" href="/assets/js/94.ce734200.js"><link rel="prefetch" href="/assets/js/95.7c9e9e9d.js"><link rel="prefetch" href="/assets/js/96.ea4ed239.js"><link rel="prefetch" href="/assets/js/97.48477bab.js"><link rel="prefetch" href="/assets/js/98.6f8a1682.js"><link rel="prefetch" href="/assets/js/99.0ed3fdcf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c65450c0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="navbar-inner"><a href="/" class="home-link router-link-active"><img src="/img/blog-logo.png" alt="Happy Place" class="logo"> <span class="site-name can-hide">Happy Place</span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/note/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/note/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/note/web-mobile/" class="nav-link">移动端适配</a></li><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>小记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/summary/" class="nav-link">小记</a></li></ul></li><li class="dropdown-item"><h4>前端面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/iqa/" class="nav-link">八股文记录</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/69eede/" class="nav-link">Java</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/notes/" class="nav-link">随笔记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/head.jpg"> <div class="blogger-info"><h3>柳逸尘</h3> <span>菜鸟猿</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/note/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/note/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/note/web-mobile/" class="nav-link">移动端适配</a></li><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>小记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/summary/" class="nav-link">小记</a></li></ul></li><li class="dropdown-item"><h4>前端面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/iqa/" class="nav-link">八股文记录</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/69eede/" class="nav-link">Java</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/notes/" class="nav-link">随笔记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/a2fc38/" class="sidebar-link">JavaScript简介</a></li><li><a href="/pages/697cb0/" class="sidebar-link">JavaScript基本语法</a></li><li><a href="/pages/8890d4/" class="sidebar-link">JavaScript的变量和数据类型</a></li><li><a href="/pages/6c4b1b/" class="sidebar-link">JavaScript的基础运算</a></li><li><a href="/pages/c40de7/" class="sidebar-link">JavaScript函数</a></li><li><a href="/pages/d6e29c/" class="sidebar-link">JavaScript面向对象</a></li><li><a href="/pages/736f96/" class="sidebar-link">JavaScript的内置类</a></li><li><a href="/pages/d190ca/" class="sidebar-link">JavaScript中DOM操作</a></li><li><a href="/pages/76d75d/" class="sidebar-link">JavaScript中事件监听</a></li><li><a href="/pages/2542f2/" class="sidebar-link">JavaScript中的BOM操作</a></li><li><a href="/pages/092cb4/" class="sidebar-link">类之间的继承关系</a></li><li><a href="/pages/dce46d/" class="sidebar-link">JavaScript函数this指向</a></li><li><a href="/pages/b7ef90/" class="sidebar-link">JavaScript运行原理</a></li><li><a href="/pages/7a5554/" class="sidebar-link">JavaScript的内存管理和闭包</a></li><li><a href="/pages/936d54/" class="sidebar-link">JavaScript函数增强</a></li><li><a href="/pages/b1d524/" class="sidebar-link">JavaScript对象增强</a></li><li><a href="/pages/af055f/" class="sidebar-link">ES5中实现继承</a></li><li><a href="/pages/6eae78/" class="sidebar-link">ES6实现继承</a></li><li><a href="/pages/40ac52/" class="sidebar-link">ES6-ES13新特性</a></li><li><a href="/pages/05cfa5/" class="sidebar-link">Proxy-Reflect使用</a></li><li><a href="/pages/93067e/" aria-current="page" class="active sidebar-link">Promise使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/93067e/#什么是promise" class="sidebar-link">什么是Promise</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#promise的执行过程" class="sidebar-link">Promise的执行过程</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#executor" class="sidebar-link">Executor</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#resolve传入不同的值" class="sidebar-link">resolve传入不同的值</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#promise的then方法调用" class="sidebar-link">Promise的then方法调用</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#then方法的多次调用" class="sidebar-link">then方法的多次调用</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#then方法返回值" class="sidebar-link">then方法返回值</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#catch方法返回值" class="sidebar-link">catch方法返回值</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#resolve方法" class="sidebar-link">resolve方法</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#reject方法" class="sidebar-link">reject方法</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#all方法" class="sidebar-link">all方法</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#allsettled方法" class="sidebar-link">allSettled方法</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#race方法" class="sidebar-link">race方法</a></li><li class="sidebar-sub-header level2"><a href="/pages/93067e/#any方法" class="sidebar-link">any方法</a></li></ul></li><li><a href="/pages/4e3394/" class="sidebar-link">迭代器生成器</a></li><li><a href="/pages/6da4fa/" class="sidebar-link">async_await函数</a></li><li><a href="/pages/d9c2b7/" class="sidebar-link">正则表达式</a></li><li><a href="/pages/e622f3/" class="sidebar-link">防抖和节流</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-6"><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/note/javascript/#JavaScript" data-v-06970110>JavaScript</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="javascript:;" data-v-06970110>柳逸尘</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2022-12-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Promise使用<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="什么是promise"><a href="#什么是promise" class="header-anchor">#</a> 什么是Promise</h2> <p>Promise是一个类</p> <p>在通过new创建Promise对象时，需要传入一个回调函数，称之为<code>executor</code></p> <ul><li>这个回调函数会被立即执行，并且给传入两个回调函数<code>resolve</code>，<code>reject</code></li> <li>当调用<code>resolve</code>回调函数时，会执行Promise对象的then方法传入的回调函数</li> <li>当调用<code>reject</code>回调函数时，会执行Promise对象的catch方法传入的回调函数</li></ul> <h2 id="promise的执行过程"><a href="#promise的执行过程" class="header-anchor">#</a> Promise的执行过程</h2> <p>Promise在执行过程中划分为三个状态</p> <ul><li><strong>待定(pending)</strong>:    初始状态，既没有被兑现，也没有被拒绝；当执行executor中的代码时，处于该状态</li> <li><strong>已兑现(fulfilled)</strong>:   意味着操作成功完成；执行了resolve时，处于该状态，Promise已经被兑现</li> <li><strong>已拒绝(reject)</strong>:   意味着操作失败；执行了reject时，处于该状态，Promise已被拒绝。</li></ul> <p>Promise的状态一旦被确定下来了，就不会再更改，也不能再执行某一个回调函数来改变状态</p> <h2 id="executor"><a href="#executor" class="header-anchor">#</a> Executor</h2> <p>Executor是创建Promise时需要传入的一个回调函数，这个回调函数立即执行，并且传入两个参数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'executor代码'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="resolve传入不同的值"><a href="#resolve传入不同的值" class="header-anchor">#</a> resolve传入不同的值</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'p的resove'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">/*
    resolve中可以传入的值
    1. 普通值  resolve(&quot;aaa&quot;)
              resolve([
                { name: &quot;Mac&quot;, price: 99999 },
                { name: &quot;iPhone&quot;, price: 100 },
              ]);
    2. resolve(promise)
        如果resolve传入的值本身是Promise对象，那么当前的Promise状态会由传入的Promise来决定
    3. resolve(thenable对象)
  */</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">then</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'thenable对象函数回调'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;then中获取到结果：&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ol><li>如果resolve传入一个普通的值或者对象，那么这个值会作为then回调的参数</li> <li>如果resolve中传入的是另外一个Promise，那么这个新Promise会决定原Promise状态</li> <li>如果resolve中传入的是一个对象那个，并且这个对象中有then方法，那么会执行该then方法，并且根据then方法的结果来决定Promise的状态</li></ol> <h2 id="promise的then方法调用"><a href="#promise的then方法调用" class="header-anchor">#</a> Promise的then方法调用</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;failure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 写法一</span>
promise
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;成功回调&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;失败回调&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 写法二</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;成功回调&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;失败回调&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="then方法的多次调用"><a href="#then方法的多次调用" class="header-anchor">#</a> then方法的多次调用</h2> <p>一个Promise的then方法是可以被多次调用的，每次调用都可以传入对应的fulfilled回调；当Promise状态变成fulfilled的时候，这些回调函数都会被执行</p> <h2 id="then方法返回值"><a href="#then方法返回值" class="header-anchor">#</a> then方法返回值</h2> <p>then方法本身是由返回值的，返回的是一个Promise，因此可以进行链式调用</p> <p>then方法返回的Promise的状态</p> <ul><li>当then方法中的回调函数本身在执行的时候，那么处于pending状态</li> <li>当then方法中的回调函数返回一个结果时，处于fulfilled状态，并且会将结果作为resolve的参数
<ul><li>返回一个普通的值</li> <li>返回一个Promise</li> <li>返回一个thenable值</li></ul></li> <li>当then方法抛出一个异常时，处于reject状态</li></ul> <h2 id="catch方法返回值"><a href="#catch方法返回值" class="header-anchor">#</a> catch方法返回值</h2> <p>catch方法的返回值也是一个Promise对象，所以catch方法后main可以继续调用then方法或者catch方法</p> <h2 id="resolve方法"><a href="#resolve方法" class="header-anchor">#</a> resolve方法</h2> <p>then，catch，finally方法都属于Promise的实例方法，都是存放在Promise的prototype上的。</p> <p>在某些情况下已经有一个现成的内容了，希望将其转成Promise来使用，这个时候可以使用Promise.resolve方法来完成。</p> <p>Promise.resolve用法相当于new Promise，并且执行resolve方法。</p> <p>resolve方法是Promise的一个类方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'zs'</span><span class="token punctuation">)</span>
<span class="token comment">// 相当于</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'zs'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="reject方法"><a href="#reject方法" class="header-anchor">#</a> reject方法</h2> <p>reject方法是Promise的一个类方法</p> <p>reject方法的用法和resolve方法是一样的，只是会将Promise对象的状态设置为reject状态</p> <h2 id="all方法"><a href="#all方法" class="header-anchor">#</a> all方法</h2> <p>all方法也是Promise的一个类方法</p> <ul><li>其作用是将多个Promise包裹在一起形成一个新的Promise</li> <li>新的Promise状态由包裹的所有Promise共同决定
<ul><li>当所有的Promise状态变成fulfilled状态时，新的Promise状态为fulfilled，并且会将所有的Promise的返回值组成一个数组</li> <li>当有一个Promise状态为reject时，新的Promise状态为reject，并且会将第一个reject的返回值作为参数</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// resolve('p1的Promise')</span>
  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'p1 reject'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'p2的Promise'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'p3的Promise'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="allsettled方法"><a href="#allsettled方法" class="header-anchor">#</a> allSettled方法</h2> <p>all方法存在一个缺陷，当其中一个Promise变成reject状态时，新的Promise就会立即变成对应的reject状态；那么对于resolve的，以及依然处于pending状态的Promise，是获取不到结果的。</p> <p>在ES11中添加了新的API  <strong>Promise.allSettled</strong>；该方法会在所有的Promise都有结果(settled)，无论是fulfilled，还是reject时，才会有最终的状态；并且这个Promise的结果一定是fulfilled的</p> <p>该方法的结果是一个数组，数组中存放这每一个Promise的结果，并且是对应一个对象的，这个对象中包含status状态，以及对应的value值</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// resolve('p1的Promise')</span>
  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;p1 reject&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;p2的Promise&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;p3的Promise&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/liuyichens/blog_img@main/image.4k1hro1b1my0.webp" alt="image"></p> <h2 id="race方法"><a href="#race方法" class="header-anchor">#</a> race方法</h2> <p>多个Promise中其中任何一个Promise先有结果，那么这个结果就是最终的Promise的结果，</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// resolve('p1的Promise')</span>
  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;p1 reject&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;p2的Promise&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;p3的Promise&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="any方法"><a href="#any方法" class="header-anchor">#</a> any方法</h2> <p>any方式是ES12中新增的方法，和race方法是类似的</p> <p>any方法会等到一个fulfilled状态，才会决定新的Promise的状态</p> <p>如果所有的Promise都是reject的，那么也会等到所有的Promise都会变成rejected状态</p> <p>如果所有的Promise都是reject的，那么会报一个AggregateError错误</p></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=Promise" title="标签">#Promise</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/12/16, 08:41:29</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/05cfa5/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Proxy-Reflect使用</div></a> <a href="/pages/4e3394/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">迭代器生成器</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/05cfa5/" class="prev">Proxy-Reflect使用</a></span> <span class="next"><a href="/pages/4e3394/">迭代器生成器</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e622f3/"><div>
            防抖和节流
            <!----></div></a> <span class="date">02-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/d9c2b7/"><div>
            正则表达式
            <!----></div></a> <span class="date">01-29</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/6da4fa/"><div>
            async_await函数
            <!----></div></a> <span class="date">12-30</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="footer-container"><!----> 
    Theme by
    <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
      | Copyright © 2019-2023
      <span>柳逸尘 | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a8c3baaf.js" defer></script><script src="/assets/js/2.b5c660c9.js" defer></script><script src="/assets/js/3.e22064e5.js" defer></script><script src="/assets/js/83.5db2b935.js" defer></script>
  </body>
</html>
