<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6-ES13新特性 | Happy Place</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.c65450c0.css" as="style"><link rel="preload" href="/assets/js/app.a8c3baaf.js" as="script"><link rel="preload" href="/assets/js/2.b5c660c9.js" as="script"><link rel="preload" href="/assets/js/3.e22064e5.js" as="script"><link rel="preload" href="/assets/js/81.211024d4.js" as="script"><link rel="prefetch" href="/assets/js/10.b8b8ab84.js"><link rel="prefetch" href="/assets/js/11.1b8e1942.js"><link rel="prefetch" href="/assets/js/12.53dd54a8.js"><link rel="prefetch" href="/assets/js/13.9da15bc5.js"><link rel="prefetch" href="/assets/js/14.ec3a7905.js"><link rel="prefetch" href="/assets/js/15.d7ee8461.js"><link rel="prefetch" href="/assets/js/16.b15fe8c9.js"><link rel="prefetch" href="/assets/js/17.c182f876.js"><link rel="prefetch" href="/assets/js/18.7b1f5104.js"><link rel="prefetch" href="/assets/js/19.b74b0704.js"><link rel="prefetch" href="/assets/js/20.852f6ed4.js"><link rel="prefetch" href="/assets/js/21.f6d48628.js"><link rel="prefetch" href="/assets/js/22.5d5d79b4.js"><link rel="prefetch" href="/assets/js/23.14567901.js"><link rel="prefetch" href="/assets/js/24.241ea526.js"><link rel="prefetch" href="/assets/js/25.fcb27e83.js"><link rel="prefetch" href="/assets/js/26.7db4c2e7.js"><link rel="prefetch" href="/assets/js/27.092ee481.js"><link rel="prefetch" href="/assets/js/28.4b97f739.js"><link rel="prefetch" href="/assets/js/29.c514359b.js"><link rel="prefetch" href="/assets/js/30.f04f4e18.js"><link rel="prefetch" href="/assets/js/31.5ffd7783.js"><link rel="prefetch" href="/assets/js/32.8dfed234.js"><link rel="prefetch" href="/assets/js/33.b2af0b6c.js"><link rel="prefetch" href="/assets/js/34.f8734221.js"><link rel="prefetch" href="/assets/js/35.5f391154.js"><link rel="prefetch" href="/assets/js/36.20344beb.js"><link rel="prefetch" href="/assets/js/37.fef23f3a.js"><link rel="prefetch" href="/assets/js/38.bcb5e6e2.js"><link rel="prefetch" href="/assets/js/39.82dabd18.js"><link rel="prefetch" href="/assets/js/4.23698b7e.js"><link rel="prefetch" href="/assets/js/40.108330e0.js"><link rel="prefetch" href="/assets/js/41.5fb4ab42.js"><link rel="prefetch" href="/assets/js/42.28dcb082.js"><link rel="prefetch" href="/assets/js/43.7e276908.js"><link rel="prefetch" href="/assets/js/44.0c7e7c4a.js"><link rel="prefetch" href="/assets/js/45.ce0945e5.js"><link rel="prefetch" href="/assets/js/46.bff6354d.js"><link rel="prefetch" href="/assets/js/47.ad214c5d.js"><link rel="prefetch" href="/assets/js/48.ac394469.js"><link rel="prefetch" href="/assets/js/49.a30f0fab.js"><link rel="prefetch" href="/assets/js/5.a7ca4b63.js"><link rel="prefetch" href="/assets/js/50.004eff23.js"><link rel="prefetch" href="/assets/js/51.14caea13.js"><link rel="prefetch" href="/assets/js/52.9b64384c.js"><link rel="prefetch" href="/assets/js/53.6aed5936.js"><link rel="prefetch" href="/assets/js/54.0d258f5c.js"><link rel="prefetch" href="/assets/js/55.c2c125a6.js"><link rel="prefetch" href="/assets/js/56.0023d049.js"><link rel="prefetch" href="/assets/js/57.720553ab.js"><link rel="prefetch" href="/assets/js/58.fa63a13a.js"><link rel="prefetch" href="/assets/js/59.641646a1.js"><link rel="prefetch" href="/assets/js/6.d47ba7da.js"><link rel="prefetch" href="/assets/js/60.ceb9b52e.js"><link rel="prefetch" href="/assets/js/61.01decca0.js"><link rel="prefetch" href="/assets/js/62.707fe347.js"><link rel="prefetch" href="/assets/js/63.574a3f29.js"><link rel="prefetch" href="/assets/js/64.f7932dd9.js"><link rel="prefetch" href="/assets/js/65.9b30dd29.js"><link rel="prefetch" href="/assets/js/66.e19c66aa.js"><link rel="prefetch" href="/assets/js/67.a034705d.js"><link rel="prefetch" href="/assets/js/68.f792e858.js"><link rel="prefetch" href="/assets/js/69.7e881126.js"><link rel="prefetch" href="/assets/js/7.3b638d91.js"><link rel="prefetch" href="/assets/js/70.1e0cdaa0.js"><link rel="prefetch" href="/assets/js/71.5bbbf703.js"><link rel="prefetch" href="/assets/js/72.de6db67a.js"><link rel="prefetch" href="/assets/js/73.e54e5943.js"><link rel="prefetch" href="/assets/js/74.1e7c2361.js"><link rel="prefetch" href="/assets/js/75.9ea76709.js"><link rel="prefetch" href="/assets/js/76.3d3a04c1.js"><link rel="prefetch" href="/assets/js/77.d639e454.js"><link rel="prefetch" href="/assets/js/78.e683e88e.js"><link rel="prefetch" href="/assets/js/79.700ae5a5.js"><link rel="prefetch" href="/assets/js/8.9bf69278.js"><link rel="prefetch" href="/assets/js/80.139e0a01.js"><link rel="prefetch" href="/assets/js/82.bab0936f.js"><link rel="prefetch" href="/assets/js/83.5db2b935.js"><link rel="prefetch" href="/assets/js/84.81c8ab2d.js"><link rel="prefetch" href="/assets/js/85.b6c0843a.js"><link rel="prefetch" href="/assets/js/86.e62ece32.js"><link rel="prefetch" href="/assets/js/87.9c9decda.js"><link rel="prefetch" href="/assets/js/88.0d81be96.js"><link rel="prefetch" href="/assets/js/89.6abc53b5.js"><link rel="prefetch" href="/assets/js/9.dd8047f3.js"><link rel="prefetch" href="/assets/js/90.52133d62.js"><link rel="prefetch" href="/assets/js/91.6f6e82b4.js"><link rel="prefetch" href="/assets/js/92.d3e6b236.js"><link rel="prefetch" href="/assets/js/93.1adc6740.js"><link rel="prefetch" href="/assets/js/94.ce734200.js"><link rel="prefetch" href="/assets/js/95.7c9e9e9d.js"><link rel="prefetch" href="/assets/js/96.ea4ed239.js"><link rel="prefetch" href="/assets/js/97.48477bab.js"><link rel="prefetch" href="/assets/js/98.6f8a1682.js"><link rel="prefetch" href="/assets/js/99.0ed3fdcf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c65450c0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="navbar-inner"><a href="/" class="home-link router-link-active"><img src="/img/blog-logo.png" alt="Happy Place" class="logo"> <span class="site-name can-hide">Happy Place</span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/note/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/note/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/note/web-mobile/" class="nav-link">移动端适配</a></li><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>小记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/summary/" class="nav-link">小记</a></li></ul></li><li class="dropdown-item"><h4>前端面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/iqa/" class="nav-link">八股文记录</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/69eede/" class="nav-link">Java</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/notes/" class="nav-link">随笔记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/head.jpg"> <div class="blogger-info"><h3>柳逸尘</h3> <span>菜鸟猿</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/note/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/note/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/note/web-mobile/" class="nav-link">移动端适配</a></li><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>小记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/summary/" class="nav-link">小记</a></li></ul></li><li class="dropdown-item"><h4>前端面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/iqa/" class="nav-link">八股文记录</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/69eede/" class="nav-link">Java</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/notes/" class="nav-link">随笔记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/a2fc38/" class="sidebar-link">JavaScript简介</a></li><li><a href="/pages/697cb0/" class="sidebar-link">JavaScript基本语法</a></li><li><a href="/pages/8890d4/" class="sidebar-link">JavaScript的变量和数据类型</a></li><li><a href="/pages/6c4b1b/" class="sidebar-link">JavaScript的基础运算</a></li><li><a href="/pages/c40de7/" class="sidebar-link">JavaScript函数</a></li><li><a href="/pages/d6e29c/" class="sidebar-link">JavaScript面向对象</a></li><li><a href="/pages/736f96/" class="sidebar-link">JavaScript的内置类</a></li><li><a href="/pages/d190ca/" class="sidebar-link">JavaScript中DOM操作</a></li><li><a href="/pages/76d75d/" class="sidebar-link">JavaScript中事件监听</a></li><li><a href="/pages/2542f2/" class="sidebar-link">JavaScript中的BOM操作</a></li><li><a href="/pages/092cb4/" class="sidebar-link">类之间的继承关系</a></li><li><a href="/pages/dce46d/" class="sidebar-link">JavaScript函数this指向</a></li><li><a href="/pages/b7ef90/" class="sidebar-link">JavaScript运行原理</a></li><li><a href="/pages/7a5554/" class="sidebar-link">JavaScript的内存管理和闭包</a></li><li><a href="/pages/936d54/" class="sidebar-link">JavaScript函数增强</a></li><li><a href="/pages/b1d524/" class="sidebar-link">JavaScript对象增强</a></li><li><a href="/pages/af055f/" class="sidebar-link">ES5中实现继承</a></li><li><a href="/pages/6eae78/" class="sidebar-link">ES6实现继承</a></li><li><a href="/pages/40ac52/" aria-current="page" class="active sidebar-link">ES6-ES13新特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#let-const是否存在作用域提升" class="sidebar-link">let/const是否存在作用域提升</a></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#块级作用域" class="sidebar-link">块级作用域</a></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#模板字符串" class="sidebar-link">模板字符串</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#标签模板字符串" class="sidebar-link">标签模板字符串</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#函数的默认参数" class="sidebar-link">函数的默认参数</a></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#symbol的基本使用" class="sidebar-link">Symbol的基本使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#为什么需要symbol" class="sidebar-link">为什么需要Symbol</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#symbol作为属性名" class="sidebar-link">Symbol作为属性名</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#获取symbol对应的key" class="sidebar-link">获取Symbol对应的key</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#description" class="sidebar-link">description</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#set使用" class="sidebar-link">Set使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#set-的常见方法" class="sidebar-link">Set 的常见方法</a></li><li class="sidebar-sub-header level4"><a href="/pages/40ac52/#set的常见属性" class="sidebar-link">Set的常见属性</a></li><li class="sidebar-sub-header level4"><a href="/pages/40ac52/#set中常用的方法" class="sidebar-link">Set中常用的方法</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#weakset使用" class="sidebar-link">WeakSet使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#weakset的常见方法" class="sidebar-link">WeakSet的常见方法</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#注意-weakset不能遍历" class="sidebar-link">注意：WeakSet不能遍历</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#weakset的使用" class="sidebar-link">WeakSet的使用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#map的基本使用" class="sidebar-link">Map的基本使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#map常用的方法" class="sidebar-link">Map常用的方法</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#weakmap" class="sidebar-link">WeakMap</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#weakmap的应用" class="sidebar-link">WeakMap的应用</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#es7内容" class="sidebar-link">ES7内容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#array-includes" class="sidebar-link">Array includes</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#指数运算符" class="sidebar-link">指数运算符</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#es8内容" class="sidebar-link">ES8内容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#object-values" class="sidebar-link">Object.values</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#object-entries" class="sidebar-link">Object.entries</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#string-padding" class="sidebar-link">String Padding</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#trailing-commas-尾部追加" class="sidebar-link">Trailing Commas 尾部追加</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#object-descriptors" class="sidebar-link">Object Descriptors</a></li><li class="sidebar-sub-header level4"><a href="/pages/40ac52/#object-getownpropertydescriptions" class="sidebar-link">Object.getOwnPropertyDescriptions</a></li><li class="sidebar-sub-header level4"><a href="/pages/40ac52/#async-await" class="sidebar-link">async, await</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#es9内容" class="sidebar-link">ES9内容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#async-iterators" class="sidebar-link">Async iterators</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#object-spread-operators-展开运算符" class="sidebar-link">Object spread operators-- 展开运算符</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#promise-finally" class="sidebar-link">Promise finally</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#es10内容" class="sidebar-link">ES10内容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#flat-flatmap" class="sidebar-link">flat flatMap</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#object-fromentries" class="sidebar-link">Object fromEntries</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#trimstart-trimend" class="sidebar-link">trimStart trimEnd</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#symbol" class="sidebar-link">Symbol</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#es11部分" class="sidebar-link">ES11部分</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#bigint" class="sidebar-link">Bigint</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#空值合并操作符" class="sidebar-link">空值合并操作符</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#可选链" class="sidebar-link">可选链</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#global-this" class="sidebar-link">Global this</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#for-in-标准化" class="sidebar-link">for...in...标准化</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#dynamic-import" class="sidebar-link">Dynamic Import</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#promise-allsettled" class="sidebar-link">Promise.allSettled</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#import-meta" class="sidebar-link">import meta</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#es12内容" class="sidebar-link">ES12内容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#finalizationregistry" class="sidebar-link">FinalizationRegistry</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#weakrefs" class="sidebar-link">WeakRefs</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#逻辑操作" class="sidebar-link">逻辑操作</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#numeric-separator" class="sidebar-link">Numeric Separator</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#string-replaceall" class="sidebar-link">String.replaceAll</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/40ac52/#es13内容" class="sidebar-link">ES13内容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#method-at" class="sidebar-link">method.at()</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#object-hasown-obj-propkey" class="sidebar-link">Object.hasOwn(obj, propKey)</a></li><li class="sidebar-sub-header level3"><a href="/pages/40ac52/#new-members-of-classes" class="sidebar-link">New members of classes</a></li></ul></li></ul></li><li><a href="/pages/05cfa5/" class="sidebar-link">Proxy-Reflect使用</a></li><li><a href="/pages/93067e/" class="sidebar-link">Promise使用</a></li><li><a href="/pages/4e3394/" class="sidebar-link">迭代器生成器</a></li><li><a href="/pages/6da4fa/" class="sidebar-link">async_await函数</a></li><li><a href="/pages/d9c2b7/" class="sidebar-link">正则表达式</a></li><li><a href="/pages/e622f3/" class="sidebar-link">防抖和节流</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-6"><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/note/javascript/#JavaScript" data-v-06970110>JavaScript</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="javascript:;" data-v-06970110>柳逸尘</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2022-11-24</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">ES6-ES13新特性<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="let-const是否存在作用域提升"><a href="#let-const是否存在作用域提升" class="header-anchor">#</a> let/const是否存在作用域提升</h2> <p><code>let/const</code>定义的变量在执行上下文的词法环境创建出来的时候变量事实上已经被创建了，只是这个变量是不能被访问的</p> <p>作用域提升的定义：<strong>在声明变量的作用域中，如果这个变量可以在声明之前被访问，那么可以称之为作用域提升</strong></p> <p><code>let/const</code>定义的变量虽然被创建出来了，但是不能被访问，因此不能称之为作用域提示</p> <p>总结：<code>let/const</code>没有进行作用域提升，但是会在解析阶段创建出来</p> <h2 id="块级作用域"><a href="#块级作用域" class="header-anchor">#</a> 块级作用域</h2> <p>在ES5之前，只有全局和函数会形成自己的作用域，<code>var</code>声明的变量在非严格模式下是没有块级作用域的</p> <p>从ES6开始，使用<code>let/const/function/class</code>声明的变量是有块级作用域的，</p> <p>虽然函数拥有块级作用域，但是在外面依然可以访问，这是因为引擎会对函数的声明进行特殊的处理，允许像var定义的变量一样允许作用域提升</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token string">'foo'</span>
    <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// 不可以访问</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 可以访问</span>
<span class="token keyword">var</span> newPerson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 不可以访问</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="模板字符串"><a href="#模板字符串" class="header-anchor">#</a> 模板字符串</h2> <h3 id="标签模板字符串"><a href="#标签模板字符串" class="header-anchor">#</a> 标签模板字符串</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 普通JavaScript函数调用</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['Hello World']</span>
<span class="token comment">// 使用标签模板字符串</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
foo<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> Wolrd </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>  <span class="token comment">// [Array(3), 'zs', 18]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/liuyichens/blog_img@main/image.3sfw5p9kqp40.webp" alt="image"></p> <p>如果使用标签模板字符串，并且在调用的时候插入其它变量</p> <ul><li>模板字符串被拆分了</li> <li>第一个元素是数组，是被模块字符串拆分的字符串组合</li> <li>后面的元素是一个个模块字符串传入的内容</li></ul> <h2 id="函数的默认参数"><a href="#函数的默认参数" class="header-anchor">#</a> 函数的默认参数</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 默认值写法判断，方法一</span>
    arg1 <span class="token operator">=</span> arg1 <span class="token operator">?</span> arg1 <span class="token operator">||</span> <span class="token string">'默认值'</span>
    <span class="token comment">// 方法二</span>
    arg1 <span class="token operator">=</span> arg1 <span class="token operator">||</span> <span class="token string">'默认值'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>以上两种默认值的处理方式都是不严谨的，如果说函数传递的参数为<code>0</code>，<code>&quot;&quot;(空字符串)</code>,<code>false</code>这样的参数时都会重新赋值为默认值</p> <p>修改为严谨的写法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>arg1 <span class="token operator">=</span> <span class="token string">'方案三的默认值'</span><span class="token punctuation">,</span> arg2<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 方法一   三元运算符</span>
    arg1 <span class="token operator">=</span> <span class="token punctuation">(</span>arg1 <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> arg1 <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">&quot;默认值&quot;</span><span class="token operator">:</span>arg1
    <span class="token comment">// 方法二 ES6之后新增语法 ??</span>
    arg1 <span class="token operator">=</span> arg1 <span class="token operator">??</span> <span class="token string">'默认值'</span>
    <span class="token comment">// 方法三，直接在参数上面赋值默认值</span>
    <span class="token comment">// 方案三不会对null进行判断</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>注意</strong></p> <ul><li>有默认参数的函数形参尽量写到后面；</li> <li>有默认参数的形参是不会计算在length之内的(并且后面的所有的参数都不会计算在length之内)</li> <li>剩余参数也放到最后（默认参数放在剩余参数前面）</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg1 <span class="token operator">=</span> <span class="token string">'默认参数'</span><span class="token punctuation">,</span> <span class="token operator">...</span>arg3<span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>对象可通过展开运算符实现浅拷贝，修改新的对象不会影响原本的值</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">180</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> info2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>obj<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="symbol的基本使用"><a href="#symbol的基本使用" class="header-anchor">#</a> Symbol的基本使用</h2> <p><code>Symbol</code>是ES6中新增的一个基本类型，翻译为符号</p> <h3 id="为什么需要symbol"><a href="#为什么需要symbol" class="header-anchor">#</a> 为什么需要Symbol</h3> <ul><li>在ES6之前，对象的属性名都是字符串形式，那么很容易造成属性名的冲突</li> <li>比如原来有一个对象，我们希望在其中添加一个新的属性和值，但是我们在不确定它原来内部有什么内容的情况下，很容易造成冲突，从而覆盖掉它内部的某个属性</li> <li>比如我们前面在讲apply、call、bind实现时，我们有给其中添加一个fn属性，那么如果它内部原来已经有了fn属性了呢</li> <li>比如开发中我们使用混入，那么混入中出现了同名的属性，必然有一个会被覆盖掉</li></ul> <p>Symbol用来生成一个独一无二的值，Symbol值是通过<code>Symbol函数</code>来生成的，生成后可以作为属性名。</p> <p>Symbol即使多次创建值，结果也是不相同的</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'aaa'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>可以在创建Symbol值的时候传入一个描述description：这个是ES2019（ES10）新增的特性</p> <h3 id="symbol作为属性名"><a href="#symbol作为属性名" class="header-anchor">#</a> Symbol作为属性名</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 写法一 定义字面量对象直接使用</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">'aaa'</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>s2<span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">'bbb'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 写法二  属性名赋值</span>
<span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
obj2<span class="token punctuation">[</span>s1<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'abc'</span>
obj2<span class="token punctuation">[</span>s2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'cba'</span>
<span class="token comment">// 写法三</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> s1<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'abc'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="获取symbol对应的key"><a href="#获取symbol对应的key" class="header-anchor">#</a> 获取Symbol对应的key</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 获取不到Symbol定义的key</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 获取Symbol定义的key</span>

<span class="token keyword">const</span> symbolKeys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> symbolKeys<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="description"><a href="#description" class="header-anchor">#</a> description</h3> <p>Symbol的目的是为了创建一个独一无二的值，那么如果我们现在就是想创建相同的Symbol应该怎么来做呢</p> <ul><li>使用Symbol.for方法</li> <li>通过Symbol.keyFor方法来获取对应的key</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;ccc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>description<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// cccc</span>
<span class="token keyword">const</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>description<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token operator">===</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">const</span> s5 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>description<span class="token punctuation">)</span>
<span class="token keyword">const</span> s6 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>description<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s5 <span class="token operator">===</span> s6<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s5<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ccc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="set使用"><a href="#set使用" class="header-anchor">#</a> Set使用</h2> <p>ES6之前，存储数据的结构主要有两种：<strong>数组</strong>、<strong>对象</strong></p> <p>在ES6中新增了另外两种数据结构：<code>Set</code>、<code>Map</code>，以及它们的另外形式<code>WeakSet</code>、<code>WeakMap</code></p> <p>Set是一个新增的数据结构，可以用来保存数据，类似于数组，但是和数组的区别是元素不可以重复。 创建Set需要通过Set构造函数</p> <p>Set一个常用的功能就是给数组去重</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> set1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> set3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newArr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>set3<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newArr2 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>set3<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr1<span class="token punctuation">,</span> newArr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set1<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set1<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set1.clear()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set1<span class="token punctuation">)</span><span class="token punctuation">;</span>
set1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="set-的常见方法"><a href="#set-的常见方法" class="header-anchor">#</a> Set 的常见方法</h3> <h4 id="set的常见属性"><a href="#set的常见属性" class="header-anchor">#</a> Set的常见属性</h4> <ul><li>size: 返回Set中元素的个数</li></ul> <h4 id="set中常用的方法"><a href="#set中常用的方法" class="header-anchor">#</a> Set中常用的方法</h4> <ul><li>add(value): 添加某个元素返回Set对象本身</li> <li>delete(value): 从Set中删除和这个值相等的元素，返回boolean类型</li> <li>has(value): 判断set中是否存在某个元素，返回boolean类型</li> <li>clear(): 清空set中的所有元素，无返回值</li> <li>forEach(clallback, [, thisArg]): 通过forEach遍历set</li></ul> <p><strong>set是支持<code>for...of...</code>遍历的</strong></p> <h2 id="weakset使用"><a href="#weakset使用" class="header-anchor">#</a> WeakSet使用</h2> <p><code>WeakSet</code>的数据结构和Set类似，也是内部不能重复的数据结构</p> <p>和Set的区别</p> <ul><li>WeakSet中只能存放对象类型的，不能存放基本类型数据</li> <li>WeakSet 对元素的引用时弱引用，如果没有其它引用对某个对象进行引用，那么GC可以对该对象进行回收</li></ul> <h3 id="weakset的常见方法"><a href="#weakset的常见方法" class="header-anchor">#</a> WeakSet的常见方法</h3> <ul><li>add(value): 添加某个元素，返回weakset本身</li> <li>delete(value): 从weakset中删除和这个值相等的元素，返回boolean类型</li> <li>has(value): 判断weakset中是否存在某个应用，返回boolean类型</li></ul> <h3 id="注意-weakset不能遍历"><a href="#注意-weakset不能遍历" class="header-anchor">#</a> 注意：WeakSet不能遍历</h3> <ul><li>因为WeakSet只是对<strong>对象的弱引用</strong>，如果遍历获取其中的元素，那么有可能造成对象不能正常销毁</li> <li>所以存储到WeakSet中的对象是没有办法获取的</li></ul> <h3 id="weakset的使用"><a href="#weakset的使用" class="header-anchor">#</a> WeakSet的使用</h3> <p>WeakSet如果运用到具体的业务场景中不好举出对应的实例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> pwset <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        pwset<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">running</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>pwset<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'不能通过其他对象调用'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'running'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="map的基本使用"><a href="#map的基本使用" class="header-anchor">#</a> Map的基本使用</h2> <p>新增Map数据结构用于存储映射关系</p> <p>之前存储映射关系可以使用对象，那么Map和对象有什么区别</p> <ul><li>对象存储映射关系只能使用<strong>字符串</strong>，<strong>Symbol</strong>作为属性名‘</li> <li>如果某些情况下需要使用对象作为key，这个时候会自动将对象转换为字符串<code>[object object]</code>作为key，不同的对象转换出来的字符串都是一样的。这种情况下就需要使用Map结构来存储映射关系，可以将对象类型作为key</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span> <span class="token string">&quot;cba&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 支持forEach遍历，遍历输出的结果是map中对应的value</span>
map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 支持for...of...遍历,遍历的每一项是由 key和value组成的数组</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 解构获取key和value</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="map常用的方法"><a href="#map常用的方法" class="header-anchor">#</a> Map常用的方法</h3> <p>常见属性</p> <ul><li>size: 返回Map中元素的个数</li></ul> <p>常见方法</p> <ul><li>set(key, value): 在Map中添加key, value。并且返回整个Map对象</li> <li>get(key): 根据key获取Map中的value</li> <li>has(key): 判断是否包括某一个key, 返回Boolean类型</li> <li>delete(key): 根据key删除一个键值对，返回Boolean类型</li> <li>clear(): 清空所有的元素</li> <li>forEach(callback,[,thisArg]): 通过forEach遍历Map</li></ul> <p>Map也是支持<code>for...of...</code>遍历的</p> <h2 id="weakmap"><a href="#weakmap" class="header-anchor">#</a> WeakMap</h2> <p>WeakMap是和Map数据结构相似的键值对存储形式</p> <p>和Map的区别</p> <ul><li>WeakMap的key只能使用对象，不接受其它类型作为key</li> <li>WeakMap的key对想引用对象的引用是弱引用，如果没有其它引用引用这个对象，那么GC可以回收这个对象</li></ul> <p>WeakMap常见的方法有四个</p> <ul><li>set(key, value): 在Map中添加key, value，并返回整个Map对象</li> <li>get(key): 根据key获取Map中的value</li> <li>has(key): 判断是否包括某一个key，返回Boolean类型</li> <li>delete(key): 根据key删除一个键值对，返回Boolean类型</li></ul> <h3 id="weakmap的应用"><a href="#weakmap的应用" class="header-anchor">#</a> WeakMap的应用</h3> <p>WeakMap是不能遍历的，没有<code>forEach</code>方法，也不支持通过<code>for...of...</code>的方式进行遍历</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> targetMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getDep</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> depsMap <span class="token operator">=</span> targetMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>depsMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    depsMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    targetMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> depsMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> dep <span class="token operator">=</span> depsMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dep<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    depsMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> dep<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> dep<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="es7内容"><a href="#es7内容" class="header-anchor">#</a> ES7内容</h2> <h3 id="array-includes"><a href="#array-includes" class="header-anchor">#</a> Array includes</h3> <p>在ES7中通过<code>includes</code>来判断一个数组中是否包含一个指定元素，返回true/false</p> <h3 id="指数运算符"><a href="#指数运算符" class="header-anchor">#</a> 指数运算符</h3> <p>ES7之前计算数字的乘方需要通过<code>Math.pow</code>方法来完成</p> <p>在ES7中，增加<code>**</code>对数字来计算乘方</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> result1 <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">**</span> <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="es8内容"><a href="#es8内容" class="header-anchor">#</a> ES8内容</h2> <h3 id="object-values"><a href="#object-values" class="header-anchor">#</a> Object.values</h3> <p>之前通过<code>Object.keys</code>来获取一个对象所有的key</p> <p>在ES8中提供<code>Object.values</code>来获取所有的value值</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  ['name', 'age', 'height']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['zs', 18, 180]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="object-entries"><a href="#object-entries" class="header-anchor">#</a> Object.entries</h3> <p>通过<code>Object.entries</code>可以获取到一个数组，数组中存放可枚举属性的键值对数组。可以针对对象、数组、字符串进行操作</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [['name', 'zs'],['age', 18], ['height', 180]]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entry <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token operator">=</span> entry<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cba&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;nba&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [['0', 'abc'],['1', 'cba'],['2', 'nba']]</span>
<span class="token comment">// 字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [['0', 'a'],['1', 'b'],['2', 'c']]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="string-padding"><a href="#string-padding" class="header-anchor">#</a> String Padding</h3> <p>某些字符串需要对其进行前后的补充，实现格式化效果，ES8中新增<code>padStart</code>和<code>padEnd</code>方法来分别对字符串的首尾进行填充</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> hours <span class="token operator">=</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> minutes <span class="token operator">=</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> seconds <span class="token operator">=</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  hours<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  minutes<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  seconds<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12 05 06</span>
<span class="token comment">// 在字符串前面补0，总共2位，如果已经是两位数就不补0</span>
<span class="token keyword">let</span> carNum <span class="token operator">=</span> <span class="token string">&quot;133467907723144123&quot;</span><span class="token punctuation">;</span>
carNum <span class="token operator">=</span> carNum<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span>carNum<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>carNum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// **************4123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="trailing-commas-尾部追加"><a href="#trailing-commas-尾部追加" class="header-anchor">#</a> Trailing Commas 尾部追加</h3> <p>在ES8中允许在函数定义和调用时多加一个逗号</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="object-descriptors"><a href="#object-descriptors" class="header-anchor">#</a> Object Descriptors</h3> <h4 id="object-getownpropertydescriptions"><a href="#object-getownpropertydescriptions" class="header-anchor">#</a> Object.getOwnPropertyDescriptions</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/liuyichens/blog_img@main/image.4qv29d6x2l20.webp" alt="image"></p> <h4 id="async-await"><a href="#async-await" class="header-anchor">#</a> async, await</h4> <h2 id="es9内容"><a href="#es9内容" class="header-anchor">#</a> ES9内容</h2> <h3 id="async-iterators"><a href="#async-iterators" class="header-anchor">#</a> Async iterators</h3> <h3 id="object-spread-operators-展开运算符"><a href="#object-spread-operators-展开运算符" class="header-anchor">#</a> Object spread operators-- 展开运算符</h3> <h3 id="promise-finally"><a href="#promise-finally" class="header-anchor">#</a> Promise finally</h3> <h2 id="es10内容"><a href="#es10内容" class="header-anchor">#</a> ES10内容</h2> <h3 id="flat-flatmap"><a href="#flat-flatmap" class="header-anchor">#</a> flat flatMap</h3> <p><code>flat()</code>方法会按照一个可指定的深度递归遍历数组，并将所有的元素与遍历到的子数组中的元素合并为一个新的数组返回</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newNums1 <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> newNums2 <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNums1<span class="token punctuation">)</span> <span class="token comment">// [10, 20, 5, 8, [2, 3], [9, 22], 100]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNums2<span class="token punctuation">)</span> <span class="token comment">// [10, 20, 5, 8, 2, 3, 9, 22, 100]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>flatMap()</code>方法首先使用映射函数映射每个元素，然后将结果压缩成一个新的数组</p> <p>注意</p> <ul><li>flatMap是先进行map操作再做flat操作</li> <li>flatMap中flat的深度是1</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Hello World aaa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello ZS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello d&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 1. 通过for循环获取单数的字符串</span>
<span class="token comment">/* const newInfos = [];
for (const item of messages) {
  const infos = item.split(&quot; &quot;);
  for (const info of infos) {
    newInfos.push(info);
  }
}
console.log(newInfos); */</span>
<span class="token comment">// 2. 先进行map再使用flat</span>
<span class="token comment">/* const newMessages = messages.map((item) =&gt; item.split(&quot; &quot;));
console.log(newMessages);
const finalMessages = newMessages.flat(1);
console.log(finalMessages); */</span>
<span class="token comment">// 3. 直接使用flatMap</span>
<span class="token keyword">const</span> finalMessages <span class="token operator">=</span> messages<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>finalMessages<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="object-fromentries"><a href="#object-fromentries" class="header-anchor">#</a> Object fromEntries</h3> <p>之前可以通过<code>Object.entries</code>将对象转换成entries，那么如何将一个entries转换成对象呢。这里ES10提供了<code>Object.fromEntries</code>来实现</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> entries <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> info <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> paramsString <span class="token operator">=</span> <span class="token string">&quot;name=zs&amp;age=20&amp;height=180&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> searchParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>paramsString<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>searchParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> param <span class="token keyword">of</span> searchParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> searchObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>searchParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>searchObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="trimstart-trimend"><a href="#trimstart-trimend" class="header-anchor">#</a> trimStart trimEnd</h3> <p>去除字符串首尾的空格，可以通过<code>trim()</code>方法，如果需要单独去除前面或者后面的空格使用<code>trimStart</code>和<code>trimEnd</code></p> <h3 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h3> <h2 id="es11部分"><a href="#es11部分" class="header-anchor">#</a> ES11部分</h2> <h3 id="bigint"><a href="#bigint" class="header-anchor">#</a> Bigint</h3> <p>在之前的JavaScript中，不能正确的表示过大的数字</p> <p>即大于<code>MAX_SAFE_INTEGER</code>的数值，不能正确表示</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> maxInt <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxInt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9007199254740991</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxInt <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9007199254740992</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxInt <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9007199254740992</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在ES11中引入新的数据类型BigInt，用于表示大的整数</p> <ul><li>BigInt的表示方法是在数值后面加上n</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> bigInt <span class="token operator">=</span> <span class="token number">9007199254740991n</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bigInt <span class="token operator">+</span> <span class="token number">1n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9007199254740992n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bigInt <span class="token operator">+</span> <span class="token number">2n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9007199254740993n</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>并且表示的颜色也不一致</p> <p><img src="https://cdn.staticaly.com/gh/liuyichens/blog_img@main/image.2ilmx09w8tw0.webp" alt="image"></p> <p><img src="https://cdn.staticaly.com/gh/liuyichens/blog_img@main/image.59ie1wtecmo0.webp" alt="image"></p> <h3 id="空值合并操作符"><a href="#空值合并操作符" class="header-anchor">#</a> 空值合并操作符</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result1 <span class="token operator">=</span> foo <span class="token operator">||</span> <span class="token string">&quot;默认值&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> foo <span class="token operator">??</span> <span class="token string">&quot;默认值&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="可选链"><a href="#可选链" class="header-anchor">#</a> 可选链</h3> <p>可选链是ES11中新增加的一个特性，主要是在代码中进行<code>null</code>和<code>undefined</code>判断时更加简洁</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">friend</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bestFriend</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;gd&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">playing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;playing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>friend <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>friend<span class="token punctuation">.</span>bestFriend<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>friend<span class="token punctuation">.</span>bestFriend<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 可选链的方式</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>friend<span class="token operator">?.</span>bestFriend<span class="token operator">?.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token operator">?.</span>friend<span class="token operator">?.</span>playing<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="global-this"><a href="#global-this" class="header-anchor">#</a> Global this</h3> <p>获取JavaScript环境的全局对象在不同环境下获取的方式是不一样的</p> <ul><li>浏览器中通过<code>this</code>,<code>window</code>来获取</li> <li>Node中通过<code>global</code>来获取</li></ul> <p>在ES11中获取全局对象进行了统一的规范：<code>globalThis</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>globalThis<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="for-in-标准化"><a href="#for-in-标准化" class="header-anchor">#</a> for...in...标准化</h3> <p>在ES11之前虽然很多浏览器是支持使用<code>for...in...</code>来遍历对象类型的，但是没有被ECMA标准化</p> <p>在ES11中对其进行了标准化<code>for...in</code>用于遍历对象的key</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="dynamic-import"><a href="#dynamic-import" class="header-anchor">#</a> Dynamic Import</h3> <h3 id="promise-allsettled"><a href="#promise-allsettled" class="header-anchor">#</a> Promise.allSettled</h3> <h3 id="import-meta"><a href="#import-meta" class="header-anchor">#</a> import meta</h3> <h2 id="es12内容"><a href="#es12内容" class="header-anchor">#</a> ES12内容</h2> <h3 id="finalizationregistry"><a href="#finalizationregistry" class="header-anchor">#</a> FinalizationRegistry</h3> <p><code>FinalizationRegistry</code>对象可以在对象被垃圾回收时请求一个回调</p> <p><code>FinalizationRegistry</code>提供了这样一种方法，当一个在注册表中注册的对象被回收时，请求再某个时间点上调用一个清理回调。(清理回调有时被称为<code>finalizer</code>)</p> <p>可以通过调用<code>register</code>方法注册任何想要清理回调的对象，传入该对象和所含的值</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> registry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FinalizationRegistry</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;对象被销毁了&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
registry<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;obj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="weakrefs"><a href="#weakrefs" class="header-anchor">#</a> WeakRefs</h3> <p>如果默认将一个对象赋值给另外一个引用，那么这个引用是一个强引用，如果希望是一个弱引用可以使用<code>WeakRef</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakRef</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

<span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> info1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakRef</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取弱引用对象的属性</span>
<span class="token keyword">const</span> info1Ref <span class="token operator">=</span> info1<span class="token punctuation">.</span><span class="token function">deref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info1Ref<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="逻辑操作"><a href="#逻辑操作" class="header-anchor">#</a> 逻辑操作</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 逻辑或</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// message = message || 'hello world'</span>
message <span class="token operator">||=</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 逻辑与操作</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// obj = obj &amp;&amp; obj.foo();</span>
obj <span class="token operator">&amp;&amp;=</span> obj<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 逻辑空运算符</span>
<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token keyword">null</span>
foo <span class="token operator">??=</span> <span class="token string">&quot;默认值&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="numeric-separator"><a href="#numeric-separator" class="header-anchor">#</a> Numeric Separator</h3> <p>数字分隔符，例如<code>100_0000_0000</code></p> <h3 id="string-replaceall"><a href="#string-replaceall" class="header-anchor">#</a> String.replaceAll</h3> <h2 id="es13内容"><a href="#es13内容" class="header-anchor">#</a> ES13内容</h2> <h3 id="method-at"><a href="#method-at" class="header-anchor">#</a> method.at()</h3> <p>字符串，数组的<code>method.at()</code>方法是作为ES13中的新特性加入的</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 数组</span>
<span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cba&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;nba&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// cba</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// nba</span>
<span class="token comment">// 字符串</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// e</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// d</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="object-hasown-obj-propkey"><a href="#object-hasown-obj-propkey" class="header-anchor">#</a> Object.hasOwn(obj, propKey)</h3> <p>Object中新增了一个静态方法(类方法)：hasOwn(obj, propKey)。该方法用于判断一个对象中是否有某个自己的属性</p> <p>和<code>Object.prototype.hasOwnProperty</code>的区别</p> <ul><li>防止对象内部有重写<code>hasOwnProperty</code></li> <li>对于隐式原型指向null的对象，<code>hasOwnProperty</code>无法进行判断</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;why&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token function-variable function">hasOwnProperty</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> info <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
info<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// console.log(info.hasOwnProperty(&quot;name&quot;)); // 报错</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="new-members-of-classes"><a href="#new-members-of-classes" class="header-anchor">#</a> New members of classes</h3> <p>在ES13中新增了定义class类中成员字段(field)的其它方式</p> <ul><li>Instance public fields</li> <li>Static public fields</li> <li>Instance private fields</li> <li>static private fields</li> <li>static block</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  address <span class="token operator">=</span> <span class="token string">&quot;中国&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> totalCount <span class="token operator">=</span> <span class="token string">&quot;70亿&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 只能类内部访问</span>
  <span class="token comment">// 对象的私有属性 在之前默认 _sex为私有属性</span>
  #sex <span class="token operator">=</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> #maleCount <span class="token operator">=</span> <span class="token string">&quot;10亿&quot;</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;static block execution&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">printInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#sex<span class="token punctuation">,</span> Person<span class="token punctuation">.</span>#maleCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=ES6" title="标签">#ES6</a><a href="/tags/?tag=ES13" title="标签">#ES13</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/12/01, 08:39:34</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/6eae78/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">ES6实现继承</div></a> <a href="/pages/05cfa5/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Proxy-Reflect使用</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/6eae78/" class="prev">ES6实现继承</a></span> <span class="next"><a href="/pages/05cfa5/">Proxy-Reflect使用</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e622f3/"><div>
            防抖和节流
            <!----></div></a> <span class="date">02-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/d9c2b7/"><div>
            正则表达式
            <!----></div></a> <span class="date">01-29</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/6da4fa/"><div>
            async_await函数
            <!----></div></a> <span class="date">12-30</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="footer-container"><!----> 
    Theme by
    <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
      | Copyright © 2019-2023
      <span>柳逸尘 | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a8c3baaf.js" defer></script><script src="/assets/js/2.b5c660c9.js" defer></script><script src="/assets/js/3.e22064e5.js" defer></script><script src="/assets/js/81.211024d4.js" defer></script>
  </body>
</html>
