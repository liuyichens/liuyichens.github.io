<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式 | Happy Place</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.c65450c0.css" as="style"><link rel="preload" href="/assets/js/app.a8c3baaf.js" as="script"><link rel="preload" href="/assets/js/2.b5c660c9.js" as="script"><link rel="preload" href="/assets/js/3.e22064e5.js" as="script"><link rel="preload" href="/assets/js/86.e62ece32.js" as="script"><link rel="prefetch" href="/assets/js/10.b8b8ab84.js"><link rel="prefetch" href="/assets/js/11.1b8e1942.js"><link rel="prefetch" href="/assets/js/12.53dd54a8.js"><link rel="prefetch" href="/assets/js/13.9da15bc5.js"><link rel="prefetch" href="/assets/js/14.ec3a7905.js"><link rel="prefetch" href="/assets/js/15.d7ee8461.js"><link rel="prefetch" href="/assets/js/16.b15fe8c9.js"><link rel="prefetch" href="/assets/js/17.c182f876.js"><link rel="prefetch" href="/assets/js/18.7b1f5104.js"><link rel="prefetch" href="/assets/js/19.b74b0704.js"><link rel="prefetch" href="/assets/js/20.852f6ed4.js"><link rel="prefetch" href="/assets/js/21.f6d48628.js"><link rel="prefetch" href="/assets/js/22.5d5d79b4.js"><link rel="prefetch" href="/assets/js/23.14567901.js"><link rel="prefetch" href="/assets/js/24.241ea526.js"><link rel="prefetch" href="/assets/js/25.fcb27e83.js"><link rel="prefetch" href="/assets/js/26.7db4c2e7.js"><link rel="prefetch" href="/assets/js/27.092ee481.js"><link rel="prefetch" href="/assets/js/28.4b97f739.js"><link rel="prefetch" href="/assets/js/29.c514359b.js"><link rel="prefetch" href="/assets/js/30.f04f4e18.js"><link rel="prefetch" href="/assets/js/31.5ffd7783.js"><link rel="prefetch" href="/assets/js/32.8dfed234.js"><link rel="prefetch" href="/assets/js/33.b2af0b6c.js"><link rel="prefetch" href="/assets/js/34.f8734221.js"><link rel="prefetch" href="/assets/js/35.5f391154.js"><link rel="prefetch" href="/assets/js/36.20344beb.js"><link rel="prefetch" href="/assets/js/37.fef23f3a.js"><link rel="prefetch" href="/assets/js/38.bcb5e6e2.js"><link rel="prefetch" href="/assets/js/39.82dabd18.js"><link rel="prefetch" href="/assets/js/4.23698b7e.js"><link rel="prefetch" href="/assets/js/40.108330e0.js"><link rel="prefetch" href="/assets/js/41.5fb4ab42.js"><link rel="prefetch" href="/assets/js/42.28dcb082.js"><link rel="prefetch" href="/assets/js/43.7e276908.js"><link rel="prefetch" href="/assets/js/44.0c7e7c4a.js"><link rel="prefetch" href="/assets/js/45.ce0945e5.js"><link rel="prefetch" href="/assets/js/46.bff6354d.js"><link rel="prefetch" href="/assets/js/47.ad214c5d.js"><link rel="prefetch" href="/assets/js/48.ac394469.js"><link rel="prefetch" href="/assets/js/49.a30f0fab.js"><link rel="prefetch" href="/assets/js/5.a7ca4b63.js"><link rel="prefetch" href="/assets/js/50.004eff23.js"><link rel="prefetch" href="/assets/js/51.14caea13.js"><link rel="prefetch" href="/assets/js/52.9b64384c.js"><link rel="prefetch" href="/assets/js/53.6aed5936.js"><link rel="prefetch" href="/assets/js/54.0d258f5c.js"><link rel="prefetch" href="/assets/js/55.c2c125a6.js"><link rel="prefetch" href="/assets/js/56.0023d049.js"><link rel="prefetch" href="/assets/js/57.720553ab.js"><link rel="prefetch" href="/assets/js/58.fa63a13a.js"><link rel="prefetch" href="/assets/js/59.641646a1.js"><link rel="prefetch" href="/assets/js/6.d47ba7da.js"><link rel="prefetch" href="/assets/js/60.ceb9b52e.js"><link rel="prefetch" href="/assets/js/61.01decca0.js"><link rel="prefetch" href="/assets/js/62.707fe347.js"><link rel="prefetch" href="/assets/js/63.574a3f29.js"><link rel="prefetch" href="/assets/js/64.f7932dd9.js"><link rel="prefetch" href="/assets/js/65.9b30dd29.js"><link rel="prefetch" href="/assets/js/66.e19c66aa.js"><link rel="prefetch" href="/assets/js/67.a034705d.js"><link rel="prefetch" href="/assets/js/68.f792e858.js"><link rel="prefetch" href="/assets/js/69.7e881126.js"><link rel="prefetch" href="/assets/js/7.3b638d91.js"><link rel="prefetch" href="/assets/js/70.1e0cdaa0.js"><link rel="prefetch" href="/assets/js/71.5bbbf703.js"><link rel="prefetch" href="/assets/js/72.de6db67a.js"><link rel="prefetch" href="/assets/js/73.e54e5943.js"><link rel="prefetch" href="/assets/js/74.1e7c2361.js"><link rel="prefetch" href="/assets/js/75.9ea76709.js"><link rel="prefetch" href="/assets/js/76.3d3a04c1.js"><link rel="prefetch" href="/assets/js/77.d639e454.js"><link rel="prefetch" href="/assets/js/78.e683e88e.js"><link rel="prefetch" href="/assets/js/79.700ae5a5.js"><link rel="prefetch" href="/assets/js/8.9bf69278.js"><link rel="prefetch" href="/assets/js/80.139e0a01.js"><link rel="prefetch" href="/assets/js/81.211024d4.js"><link rel="prefetch" href="/assets/js/82.bab0936f.js"><link rel="prefetch" href="/assets/js/83.5db2b935.js"><link rel="prefetch" href="/assets/js/84.81c8ab2d.js"><link rel="prefetch" href="/assets/js/85.b6c0843a.js"><link rel="prefetch" href="/assets/js/87.9c9decda.js"><link rel="prefetch" href="/assets/js/88.0d81be96.js"><link rel="prefetch" href="/assets/js/89.6abc53b5.js"><link rel="prefetch" href="/assets/js/9.dd8047f3.js"><link rel="prefetch" href="/assets/js/90.52133d62.js"><link rel="prefetch" href="/assets/js/91.6f6e82b4.js"><link rel="prefetch" href="/assets/js/92.d3e6b236.js"><link rel="prefetch" href="/assets/js/93.1adc6740.js"><link rel="prefetch" href="/assets/js/94.ce734200.js"><link rel="prefetch" href="/assets/js/95.7c9e9e9d.js"><link rel="prefetch" href="/assets/js/96.ea4ed239.js"><link rel="prefetch" href="/assets/js/97.48477bab.js"><link rel="prefetch" href="/assets/js/98.6f8a1682.js"><link rel="prefetch" href="/assets/js/99.0ed3fdcf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c65450c0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="navbar-inner"><a href="/" class="home-link router-link-active"><img src="/img/blog-logo.png" alt="Happy Place" class="logo"> <span class="site-name can-hide">Happy Place</span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/note/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/note/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/note/web-mobile/" class="nav-link">移动端适配</a></li><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>小记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/summary/" class="nav-link">小记</a></li></ul></li><li class="dropdown-item"><h4>前端面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/iqa/" class="nav-link">八股文记录</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/69eede/" class="nav-link">Java</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/notes/" class="nav-link">随笔记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/head.jpg"> <div class="blogger-info"><h3>柳逸尘</h3> <span>菜鸟猿</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/HTML/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/note/CSS/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/note/typescript/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/note/web-mobile/" class="nav-link">移动端适配</a></li><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>小记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/summary/" class="nav-link">小记</a></li></ul></li><li class="dropdown-item"><h4>前端面试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/iqa/" class="nav-link">八股文记录</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/server/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/69eede/" class="nav-link">Java</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/notes/" class="nav-link">随笔记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/a2fc38/" class="sidebar-link">JavaScript简介</a></li><li><a href="/pages/697cb0/" class="sidebar-link">JavaScript基本语法</a></li><li><a href="/pages/8890d4/" class="sidebar-link">JavaScript的变量和数据类型</a></li><li><a href="/pages/6c4b1b/" class="sidebar-link">JavaScript的基础运算</a></li><li><a href="/pages/c40de7/" class="sidebar-link">JavaScript函数</a></li><li><a href="/pages/d6e29c/" class="sidebar-link">JavaScript面向对象</a></li><li><a href="/pages/736f96/" class="sidebar-link">JavaScript的内置类</a></li><li><a href="/pages/d190ca/" class="sidebar-link">JavaScript中DOM操作</a></li><li><a href="/pages/76d75d/" class="sidebar-link">JavaScript中事件监听</a></li><li><a href="/pages/2542f2/" class="sidebar-link">JavaScript中的BOM操作</a></li><li><a href="/pages/092cb4/" class="sidebar-link">类之间的继承关系</a></li><li><a href="/pages/dce46d/" class="sidebar-link">JavaScript函数this指向</a></li><li><a href="/pages/b7ef90/" class="sidebar-link">JavaScript运行原理</a></li><li><a href="/pages/7a5554/" class="sidebar-link">JavaScript的内存管理和闭包</a></li><li><a href="/pages/936d54/" class="sidebar-link">JavaScript函数增强</a></li><li><a href="/pages/b1d524/" class="sidebar-link">JavaScript对象增强</a></li><li><a href="/pages/af055f/" class="sidebar-link">ES5中实现继承</a></li><li><a href="/pages/6eae78/" class="sidebar-link">ES6实现继承</a></li><li><a href="/pages/40ac52/" class="sidebar-link">ES6-ES13新特性</a></li><li><a href="/pages/05cfa5/" class="sidebar-link">Proxy-Reflect使用</a></li><li><a href="/pages/93067e/" class="sidebar-link">Promise使用</a></li><li><a href="/pages/4e3394/" class="sidebar-link">迭代器生成器</a></li><li><a href="/pages/6da4fa/" class="sidebar-link">async_await函数</a></li><li><a href="/pages/d9c2b7/" aria-current="page" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#什么是正则表达式" class="sidebar-link">什么是正则表达式</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#正则表达式的使用方法" class="sidebar-link">正则表达式的使用方法</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#修饰符flag的使用" class="sidebar-link">修饰符flag的使用</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#字符类规则" class="sidebar-link">字符类规则</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#锚点规则" class="sidebar-link">锚点规则</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#转义字符规则" class="sidebar-link">转义字符规则</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#集合和范围" class="sidebar-link">集合和范围</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#量词" class="sidebar-link">量词</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#贪婪和惰性模式" class="sidebar-link">贪婪和惰性模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#捕获组" class="sidebar-link">捕获组</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#捕获组补充" class="sidebar-link">捕获组补充</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#案例-正则表达式解析歌词" class="sidebar-link">案例-正则表达式解析歌词</a></li><li class="sidebar-sub-header level2"><a href="/pages/d9c2b7/#案例-时间格式化" class="sidebar-link">案例--时间格式化</a></li></ul></li><li><a href="/pages/e622f3/" class="sidebar-link">防抖和节流</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-6"><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/note/javascript/#JavaScript" data-v-06970110>JavaScript</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="javascript:;" data-v-06970110>柳逸尘</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2023-01-29</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">正则表达式<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="什么是正则表达式"><a href="#什么是正则表达式" class="header-anchor">#</a> 什么是正则表达式</h2> <p>正则表达式是一种字符串匹配利器，可以搜索，获取，替换字符串</p> <p>在JavaScript中，正则表达式使用RegExp类来创建，也有对应的字面量的方式；正则表达式主要由两部分组成：模式(patterns)和修饰(flags)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> r2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hello</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>

<span class="token keyword">const</span> reg1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;abx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 参数一：匹配的规则，参数二：修饰符</span>
<span class="token keyword">const</span> reg2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">aaaa</span><span class="token regex-delimiter">/</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="正则表达式的使用方法"><a href="#正则表达式的使用方法" class="header-anchor">#</a> 正则表达式的使用方法</h2> <p>JavaScript中的正则表达式被用于RegExp的<code>exec</code>和<code>test</code>方法，也包括String的<code>match</code>，<code>matchAll</code>，<code>replace</code>，<code>search</code>和<code>split</code>方法</p> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>exec</td> <td>在字符串中执行查找匹配的 RegExp 方法，返回一个数组（未匹配到则返回 null）</td></tr> <tr><td>test</td> <td>在字符串中测试是否匹配的 RegExp 方法，它返回true 或false</td></tr> <tr><td>match</td> <td>在字符串中执行查找匹配的 String 方法，它返回一个数组，在未匹配到时会返回 null</td></tr> <tr><td>matchAll</td> <td>在字符串中执行查找所有匹配的 String 方法，它返回一个迭代器</td></tr> <tr><td>search</td> <td>在字符串中测试匹配的 String 方法，它返回匹配到的位置索引，或者在失败时返回-1</td></tr> <tr><td>replace</td> <td>在字符串中执行查找匹配的 String 方法，并且使用替换字符串替换掉匹配到的子字符串</td></tr> <tr><td>split</td> <td>使用正则表达式或者一个固定字符串分隔一个字符串，并将分隔后的子字符串存储到数组中的String 方法。</td></tr></tbody></table> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;ABCabcAbc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token function">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;AbC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="修饰符flag的使用"><a href="#修饰符flag的使用" class="header-anchor">#</a> 修饰符flag的使用</h2> <p>常见的修饰符</p> <table><thead><tr><th>flag</th> <th>含义</th></tr></thead> <tbody><tr><td>g</td> <td>全部匹配</td></tr> <tr><td>i</td> <td>忽略大小写</td></tr> <tr><td>m</td> <td>多行匹配</td></tr></tbody></table> <p>案例：</p> <ul><li>获取一个字符串中所有的abc</li> <li>将一个字符串中的所有abc换成大写</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">&quot;Hello ABA, abc, Abc, AAaBC&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">abc</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> results <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
message <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> <span class="token string">&quot;ABC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="字符类规则"><a href="#字符类规则" class="header-anchor">#</a> 字符类规则</h2> <p>字符类是一个特殊的符号，匹配特定集中的任何符号</p> <table><thead><tr><th>字符</th> <th>含义</th></tr></thead> <tbody><tr><td>\d (digit)</td> <td>从0到9 的字符</td></tr> <tr><td>\s (space)</td> <td>空格符号：包括空格，制表符\t，换行符\n和其它少数稀有字符例如\v,\f\r等</td></tr> <tr><td>\w (word)</td> <td>单字字符，拉丁字母或者数字或下划线   相当于 [a-zA-Z0-9]</td></tr> <tr><td>.</td> <td>点，是一种特殊字符类，它与除换行符之外的任何字符匹配</td></tr></tbody></table> <p>反向类</p> <ul><li>\D:  非数字，除\d以外的任何字符，例如字母</li> <li>\S:  非空格符号，除\s以外的任何字符，例如字母</li> <li>\W:  非单字字符，除\w以外的任何字符，例如非拉丁字母或者空格</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 匹配字符串的数字</span>
<span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;asbd1234 asj879&quot;</span>
<span class="token comment">// 匹配一个或多个数字</span>
<span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> messaget <span class="token operator">=</span> <span class="token string">&quot;CSS2.5&quot;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">CSS\d(\.\d)?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>messaget<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="锚点规则"><a href="#锚点规则" class="header-anchor">#</a> 锚点规则</h2> <p><strong>符号<code>^</code>和符号<code>$</code>在正则表达式中具有特殊的意义，被称为&quot;锚点&quot;</strong></p> <ul><li>符号<code>^</code>匹配文本开头</li> <li>符号<code>$</code>匹配文本末尾</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;My name is zs.&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 字符串的匹配方法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;my&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;以my开头&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;zs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;以zs结尾&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 正则</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^my</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;以my开头&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 这里的 . 匹配需要使用转义 \.</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">zs\.$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;以zs结尾&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>词边界</strong></p> <ul><li>词边界<code>\b</code>是一种检查，就像<code>^</code>和<code>$</code>一样，它会检查字符串中的位置是否是词边界</li> <li>词边界测试<code>\b</code>检查位置的一侧是否是<code>\w</code>，而另一侧则不匹配<code>\w</code></li> <li>字符串测试一边应该只有空格</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;now time 22:45, number is 123.456&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> timepattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b\d\d:\d\d\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>timepattern<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 需要匹配 name, name必须是一个单独的词</span>
<span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;My name is zs.&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bname\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;name有边界&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="转义字符规则"><a href="#转义字符规则" class="header-anchor">#</a> 转义字符规则</h2> <p>如果需要使用特殊字符作为常规字符来使用，需要对其进行转义，<strong>只要在其前面添加<code>\</code>即可</strong></p> <p>列举一些常见的的需要转义的字符</p> <p><code>[] \ $ . | ? * + ( )</code></p> <p><code>/</code>并不是一个特殊的符号，但是在字面量正则表达式中也需要转义。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 匹配所有以.js或者jsx结尾的文件名</span>
<span class="token keyword">const</span> fileNames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;abc.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cba.java&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;nba.html&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mba.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aaa.jsx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newNames <span class="token operator">=</span> fileNames<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNames<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="集合和范围"><a href="#集合和范围" class="header-anchor">#</a> 集合和范围</h2> <p>有时候值需要选择多个匹配字符的其中之一就可以，在<code>[]</code>中的几个字符或者字符类意味着“搜索给定的字符中的任意一个”</p> <blockquote><p>集合</p> <p>例如： [eao]意味着查找在3个字符 a，e，或者o中的任意一个</p></blockquote> <blockquote><p>范围</p> <ul><li>[] 也可以包含字符范围</li> <li>例如：[a-z]会匹配从a到z范围内的字母，[0-5]表示从0到5的数字</li> <li>[0-9A-F]表示两个范围：搜索一个字符，满足数字0到9或者字母A到F</li></ul></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 例如：需要匹配手机号码</span>
<span class="token keyword">const</span> phoneStarts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;132&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;130&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;110&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;120&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;133&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;155&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> phoneStartRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[356789]\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> filterPhone <span class="token operator">=</span> phoneStarts<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">phone</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  phoneStartRe<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>phone<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>filterPhone<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> phoneNum <span class="token operator">=</span> <span class="token string">&quot;13123456789&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> phoneRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3-9]\d{9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>phoneRe<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>phoneNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>排除范围</p> <p>除了普通的范围匹配，还有类似<code>[^...]</code>的排除范围匹配</p> <p>例如</p> <p><code>\d</code> 可以表示 <code>[0-9]</code></p> <p><code>\D</code> 可以表示为 <code>[^0-9]</code></p></blockquote> <h2 id="量词"><a href="#量词" class="header-anchor">#</a> 量词</h2> <p>假如有一个字符串，需要找出这个字符串中所包含的所有数字；由于数量是不同的，因此需要给出数量一个范围；这种用来形容所需要的数量的词被称为量词</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;+7(903)-123-45-67&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> strRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>strRe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>数量  <code>{n}</code></p> <ul><li>例如确切的位数：{5}</li> <li>某个范围的位数：{3,5}</li> <li>注意：数字之间不能有空格</li></ul> <p>缩写的含义</p> <ul><li><code>+</code>: 表示一个或者多个，相当于 <code>{1,}</code></li> <li><code>?</code>: 表示零个或者一个，相当于<code>{0,1}</code>，使符号变得可选</li> <li><code>*</code>: 表示领个或者多个，相当于<code>{0,}</code>，也就是说这个字符可以多次出现或者不出现</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 匹配 3-5个a</span>
<span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a{3,5}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;faaaabghaafjkaaaai&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> results <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>案例：匹配html的开始和结束标签</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> htmlStr <span class="token operator">=</span>
  <span class="token string">&quot;&lt;div&gt;&lt;h1&gt;我是标题&lt;/h1&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;我是内容&lt;/span&gt;&lt;/div&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> htmlStrRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;\/*[a-z][a-z0-9]*&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>htmlStr<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>htmlStrRe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="贪婪和惰性模式"><a href="#贪婪和惰性模式" class="header-anchor">#</a> 贪婪和惰性模式</h2> <p>需求：匹配字符串中所有使用  &lt;&lt;&gt;&gt; 包裹的内容</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;我最喜欢的两本书： &lt;&lt;黄金时代&gt;&gt; 和 &lt;&lt;沉默的大多数&gt;&gt; &quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> messageRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;&lt;.+&gt;&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>messageRe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['&lt;&lt;黄金时代&gt;&gt; 和 &lt;&lt;沉默的大多数&gt;&gt;']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>默认情况下这种匹配规则查到匹配的内容后，会继续向后查找，一直找到最后一个匹配的内容，这种匹配方式称之为**“贪婪模式”**</p> <p><strong>懒惰模式</strong>中的量词与贪婪模式中是相反的</p> <ul><li>主要获取到对应的内容后，就不再继续向后匹配</li> <li>可以在量词后面加一个<code>?</code>来启用</li> <li>最终匹配模式由<code>.?</code>或者<code>.+</code>变为<code>.??</code>,<code>.+?</code>，甚至将<code>?</code>变为<code>??</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;我最喜欢的两本书： &lt;&lt;黄金时代&gt;&gt; 和 &lt;&lt;沉默的大多数&gt;&gt; &quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> messageRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;&lt;.+?&gt;&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>messageRe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['&lt;&lt;黄金时代&gt;&gt;', '&lt;&lt;沉默的大多数&gt;&gt;']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>类似于<code>.+</code>的这种匹配模式称为贪婪模式，<code>.+?</code>称为惰性模式</p> <h2 id="捕获组"><a href="#捕获组" class="header-anchor">#</a> 捕获组</h2> <p>模式的一部分可以用括号括起来<code>(...)</code>这称为”<strong>捕获组</strong>“</p> <p>作用</p> <ul><li>允许将匹配的一部分作为结果数组中的单独项</li> <li>将括号视为一个整体</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 分组</span>
<span class="token keyword">const</span> message <span class="token operator">=</span>
  <span class="token string">&quot;我最喜欢的三本书： &lt;&lt;黄金时代&gt;&gt; 和 &lt;&lt;沉默的大多数&gt;&gt; 、 &lt;&lt;一只特立独行的猪&gt;&gt; &quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nameRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">( &lt;&lt;)(.+?)(&gt;&gt; )</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>nameRe<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/liuyichens/blog_img@main/image.2d1cznyxrj8k.webp" alt="image"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 将捕获组作为整体</span>
<span class="token comment">// 匹配abc一起总共至少出现两次，将abc作为一个整体</span>
<span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token string">&quot;dfabcabcksdal;fkas;ldjabcabcabc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> abcRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(abc){2,}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>abcRe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['abcabc', 'abcabcabc']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="捕获组补充"><a href="#捕获组补充" class="header-anchor">#</a> 捕获组补充</h2> <p><strong>命名组</strong></p> <ul><li>使用数字记录组比较困难</li> <li>对于更复杂的模式，计算括号不方便，因此提供一个更好的选择：起名字</li> <li>形式：在开始括号之后立即防止<code>?&lt;name&gt;</code>实现</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> message <span class="token operator">=</span>
  <span class="token string">&quot;我最喜欢的三本书： &lt;&lt;黄金时代&gt;&gt; 和 &lt;&lt;沉默的大多数&gt;&gt; 、 &lt;&lt;一只特立独行的猪&gt;&gt; &quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nameRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">( &lt;&lt;)(?&lt;bookname&gt;.+?)(&gt;&gt; )</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>nameRe<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/liuyichens/blog_img@main/image.6su7vilc0zo0.webp" alt="image"></p> <p><strong>非捕获组</strong></p> <ul><li>有时需要括号才能正确应用量词，但是不希望内容出现结果中</li> <li>可以通过在开头添加<code>?:</code>来排除组</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> message <span class="token operator">=</span>
  <span class="token string">&quot;我最喜欢的三本书： &lt;&lt;黄金时代&gt;&gt; 和 &lt;&lt;沉默的大多数&gt;&gt; 、 &lt;&lt;一只特立独行的猪&gt;&gt; &quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nameRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?: &lt;&lt;)(?&lt;bookname&gt;.+?)(?:&gt;&gt; )</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>nameRe<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/liuyichens/blog_img@main/image.79pg2dhbwpc0.webp" alt="image"></p> <p>or是正则表达式中的一个术语，实际上是一个简单的或</p> <ul><li>在正则表达式中，使用竖线<code>|</code>表示</li> <li>通常和捕获组一起来使用，在其中表示多个值</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token string">&quot;abc123343abcabcuiohjklajslk123ajklsdfjcbacba&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> abcRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(abc|cba|nba){2,}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>abcRe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  ['abcabc', 'cbacba']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="案例-正则表达式解析歌词"><a href="#案例-正则表达式解析歌词" class="header-anchor">#</a> 案例-正则表达式解析歌词</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> lyricString <span class="token operator">=</span>
  &quot;<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00.000</span><span class="token punctuation">]</span> 作词 <span class="token operator">:</span> 许嵩\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01.000</span><span class="token punctuation">]</span> 作曲 <span class="token operator">:</span> 许嵩\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02.000</span><span class="token punctuation">]</span> 编曲 <span class="token operator">:</span> 许嵩\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">22.240</span><span class="token punctuation">]</span>天空好想下雨\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">24.380</span><span class="token punctuation">]</span>我好想住你隔壁\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">26.810</span><span class="token punctuation">]</span>傻站在你家楼下\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">29.500</span><span class="token punctuation">]</span>抬起头数乌云\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">31.160</span><span class="token punctuation">]</span>如果场景里出现一架钢琴\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">33.640</span><span class="token punctuation">]</span>我会唱歌给你听\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">35.900</span><span class="token punctuation">]</span>哪怕好多盆水往下淋\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">41.060</span><span class="token punctuation">]</span>夏天快要过去\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">43.</span>
<span class="token number">340</span><span class="token punctuation">]</span>请你少买冰淇淋\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">45.680</span><span class="token punctuation">]</span>天凉就别穿短裙\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">47.830</span><span class="token punctuation">]</span>别再那么淘气\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">50.060</span><span class="token punctuation">]</span>如果有时不那么开心\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">52.470</span><span class="token punctuation">]</span>我愿意将格洛米借给你\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">55.020</span><span class="token punctuation">]</span>你其实明白我心意\n<span class="token punctuation">[</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">58.290</span><span class="token punctuation">]</span>为你唱这首歌没有什么风格\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">02.976</span><span class="token punctuation">]</span>它仅仅代表着我想给你快乐\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">07.840</span><span class="token punctuation">]</span>为你解冻冰河为你做一只扑火的飞蛾\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">12.998</span><span class="token punctuation">]</span>没有什么事情是不值
得\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">17.489</span><span class="token punctuation">]</span>为你唱这首歌没有什么风格\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">21.998</span><span class="token punctuation">]</span>它仅仅代表着我希望你快乐\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">26.688</span><span class="token punctuation">]</span>为你辗转反侧为你放弃世界有何不可\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">32.328</span><span class="token punctuation">]</span>夏末秋凉里带一点温热有换季的颜色\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">41.040</span><span class="token punctuation">]</span>\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">57.908</span><span class="token punctuation">]</span>天空好想下雨\n<span class="token punctuation">[</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">59.378</span><span class="token punctuation">]</span>我好想住你隔壁\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">02.296</span><span class="token punctuation">]</span>傻站在你家楼下\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">03.846</span><span class="token punctuation">]</span>抬起头数乌云\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">06.183</span><span class="token punctuation">]</span>如果场景里出现一
架钢琴\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">08.875</span><span class="token punctuation">]</span>我会唱歌给你听\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">10.974</span><span class="token punctuation">]</span>哪怕好多盆水往下淋\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">15.325</span><span class="token punctuation">]</span>夏天快要过去\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">18.345</span><span class="token punctuation">]</span>请你少买冰淇淋\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">21.484</span><span class="token punctuation">]</span>天凉就别穿短裙\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">22.914</span><span class="token punctuation">]</span>别再那么淘气\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">25.185</span><span class="token punctuation">]</span>如果有时不那么开心\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">27.625</span><span class="token punctuation">]</span>我愿意将格洛米借给你\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">30.015</span><span class="token punctuation">]</span>你其实明白我心意\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">33.327</span><span class="token punctuation">]</span>为你唱这首歌没有什么风格\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">37.976</span><span class="token punctuation">]</span>
它仅仅代表着我想给你快乐\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">42.835</span><span class="token punctuation">]</span>为你解冻冰河为你做一只扑火的飞蛾\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">48.406</span><span class="token punctuation">]</span>没有什么事情是不值得\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">52.416</span><span class="token punctuation">]</span>为你唱这首歌没有什么风格\n<span class="token punctuation">[</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">57.077</span><span class="token punctuation">]</span>它仅仅代表着我希望你快乐\n<span class="token punctuation">[</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">01.993</span><span class="token punctuation">]</span>为你辗转反侧为你放弃世界有何不可\n<span class="token punctuation">[</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07.494</span><span class="token punctuation">]</span>夏末秋凉里带一点温热\n<span class="token punctuation">[</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">11.536</span><span class="token punctuation">]</span>\n<span class="token punctuation">[</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">20.924</span><span class="token punctuation">]</span>为你解冻冰河为你做一只扑火的飞蛾\n
<span class="token punctuation">[</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">26.615</span><span class="token punctuation">]</span>没有什么事情是不值得\n<span class="token punctuation">[</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">30.525</span><span class="token punctuation">]</span>为你唱这首歌没有什么风格\n<span class="token punctuation">[</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">35.196</span><span class="token punctuation">]</span>它仅仅代表着我希望你快乐\n<span class="token punctuation">[</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">39.946</span><span class="token punctuation">]</span>为你辗转反侧为你放弃世界有何不可\n<span class="token punctuation">[</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">45.644</span><span class="token punctuation">]</span>夏末秋凉里带一点温热有换季的颜色\n&quot;<span class="token punctuation">;</span>
<span class="token comment">// 分隔称为数组</span>
<span class="token keyword">const</span> lyricStringLines <span class="token operator">=</span> lyricString<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这里要获取的是时间的每一位，因此需要使用分组，通过分组获取到时间的每一位数据</span>
<span class="token keyword">const</span> timeRe <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\[(\d{2}):(\d{2})\.(\d{2,3})\]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> lyricStr <span class="token keyword">of</span> lyricStringLines<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>lyricStr<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
  <span class="token comment">// 将所有的时间转换为毫秒</span>
  <span class="token keyword">const</span> timeInfo <span class="token operator">=</span> lyricStr<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>timeRe<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> min <span class="token operator">=</span> timeInfo<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> sec <span class="token operator">=</span> timeInfo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> minSec <span class="token operator">=</span>
    timeInfo<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">?</span> timeInfo<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">:</span> timeInfo<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> time <span class="token operator">=</span> min <span class="token operator">+</span> sec <span class="token operator">+</span> minSec<span class="token punctuation">;</span>
  <span class="token keyword">const</span> lyric <span class="token operator">=</span> lyricStr<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>timeRe<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> time<span class="token punctuation">,</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> lyric<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="案例-时间格式化"><a href="#案例-时间格式化" class="header-anchor">#</a> 案例--时间格式化</h2> <p>假如从服务器中获取时间戳，需要转成时间格式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * @param {timestamp} 时间戳
 **/</span>
<span class="token keyword">function</span> <span class="token function">formatTime</span><span class="token punctuation">(</span><span class="token parameter">timestamp<span class="token punctuation">,</span> format</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 将时间正则格式作为对应的key</span>
  <span class="token keyword">const</span> dateObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;y+&quot;</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;M+&quot;</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;d+&quot;</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;H+&quot;</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;m+&quot;</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;s+&quot;</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> dateObj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token punctuation">(</span>dateObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      format <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> format<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> timestamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatTime</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">,</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F" title="标签">#正则表达式</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/02/06, 13:33:08</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/6da4fa/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">async_await函数</div></a> <a href="/pages/e622f3/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">防抖和节流</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/6da4fa/" class="prev">async_await函数</a></span> <span class="next"><a href="/pages/e622f3/">防抖和节流</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e622f3/"><div>
            防抖和节流
            <!----></div></a> <span class="date">02-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/6da4fa/"><div>
            async_await函数
            <!----></div></a> <span class="date">12-30</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/4e3394/"><div>
            迭代器生成器
            <!----></div></a> <span class="date">12-16</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="footer-container"><!----> 
    Theme by
    <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
      | Copyright © 2019-2023
      <span>柳逸尘 | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a8c3baaf.js" defer></script><script src="/assets/js/2.b5c660c9.js" defer></script><script src="/assets/js/3.e22064e5.js" defer></script><script src="/assets/js/86.e62ece32.js" defer></script>
  </body>
</html>
